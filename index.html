<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Block Breaker Game - Play the Ultimate Brick Breaking Adventure Online</title>
    <meta name="description" content="Play Block Breaker Game online for free! Experience the ultimate brick-breaking adventure with power-ups, achievements, and endless levels. No download required - play instantly in your browser.">
    <meta name="keywords" content="block breaker game, brick breaker, breakout game, arcade game, online game, free game, browser game">
    <meta name="author" content="Block Breaker Top">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Block Breaker Game - Ultimate Brick Breaking Adventure">
    <meta property="og:description" content="Play the most addictive block breaker game online. Features power-ups, achievements, and endless challenging levels!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://block-breaker.top/">
    <meta property="og:image" content="https://block-breaker.top/images/og-image.jpg">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Block Breaker Game - Play Online Free">
    <meta name="twitter:description" content="Experience the ultimate brick-breaking adventure with power-ups and achievements!">
    <meta name="twitter:image" content="https://block-breaker.top/images/twitter-card.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://block-breaker.top/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "VideoGame",
        "name": "Block Breaker Game",
        "description": "The ultimate brick-breaking adventure game with power-ups, achievements, and endless levels",
        "genre": "Arcade",
        "playMode": "SinglePlayer",
        "url": "https://block-breaker.top/",
        "publisher": {
            "@type": "Organization",
            "name": "Block Breaker Top"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "2547"
        }
    }
    </script>
    
    <style>
        /* Landing Page Styles */
        body {
            font-family: 'Inter', sans-serif;
        }
        .landing-font {
            font-family: 'Orbitron', monospace;
        }
        .gradient-text {
            background: linear-gradient(45deg, #4ecdc4, #45b7d1, #96ceb4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(78, 205, 196, 0.3);
        }
        
        /* Game Styles */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        .game-font {
            font-family: 'Orbitron', monospace;
        }

        #gameSection {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .game-container {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .game-title {
            font-size: 3em;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease infinite;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }

        .game-subtitle {
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 20px;
            opacity: 0.8;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .game-stats {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 520px;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .stat-label {
            font-size: 0.8em;
            opacity: 0.7;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
        }

        .lives { color: #ff6b6b; }
        .score { color: #4ecdc4; }
        .level { color: #ffe66d; }
        .combo { color: #ff9ff3; }

        .game-board {
            position: relative;
            margin: 10px 0;
        }

        canvas {
            display: block;
            background: linear-gradient(180deg, rgba(15, 52, 96, 0.8), rgba(22, 33, 62, 0.9));
            border: 3px solid #4ecdc4;
            border-radius: 15px;
            box-shadow: 
                0 0 30px rgba(78, 205, 196, 0.4),
                inset 0 0 50px rgba(0, 0, 0, 0.2);
            max-width: 100%;
            height: auto;
        }

        .power-up-display {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
            min-height: 40px;
            align-items: center;
        }

        .power-up-active {
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #4ecdc4;
            animation: powerUpGlow 1s infinite alternate;
        }

        @keyframes powerUpGlow {
            from { box-shadow: 0 0 10px rgba(78, 205, 196, 0.5); }
            to { box-shadow: 0 0 20px rgba(78, 205, 196, 0.8); }
        }

        .achievements {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 250px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 20;
            display: none;
        }

        @media (min-width: 1280px) {
            .achievements {
                display: block;
            }
        }

        .achievement-title {
            font-size: 1.1em;
            margin-bottom: 10px;
            text-align: center;
            color: #ffe66d;
        }

        .achievement-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 0.9em;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .achievement-completed {
            background: rgba(78, 205, 196, 0.2);
            color: #4ecdc4;
        }

        .controls-panel {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .key {
            background: rgba(255, 255, 255, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-family: 'Orbitron', monospace;
            font-size: 0.8em;
        }

        .pause-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            backdrop-filter: blur(20px);
            border: 2px solid #4ecdc4;
            box-shadow: 0 0 50px rgba(78, 205, 196, 0.3);
            display: none;
            z-index: 100;
        }

        .leaderboard {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 200px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 20;
            display: none;
        }

        @media (min-width: 1024px) {
            .leaderboard {
                display: block;
            }
        }

        .leaderboard-title {
            font-size: 1.1em;
            margin-bottom: 10px;
            text-align: center;
            color: #ff6b6b;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 0.9em;
            padding: 3px;
        }

        .combo-display {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            font-weight: bold;
            color: #ff6b6b;
            pointer-events: none;
            opacity: 0;
            z-index: 50;
        }

        .combo-animation {
            animation: comboPopup 1s ease-out;
        }

        @keyframes comboPopup {
            0% { opacity: 0; transform: translateX(-50%) scale(0.5); }
            50% { opacity: 1; transform: translateX(-50%) scale(1.2); }
            100% { opacity: 0; transform: translateX(-50%) scale(1); }
        }

        .game-tips {
            text-align: center;
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }

        .floating-score {
            position: absolute;
            pointer-events: none;
            font-weight: bold;
            font-size: 1.2em;
            z-index: 20;
        }

        .floating-score-animation {
            animation: floatUp 1s ease-out forwards;
        }

        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-50px); }
        }

        .next-level-banner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #4ecdc4, #45b7d1);
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 0 30px rgba(78, 205, 196, 0.5);
            display: none;
            z-index: 100;
            animation: levelUpPulse 0.5s ease-in-out;
        }

        @keyframes levelUpPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        .game-over-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            backdrop-filter: blur(20px);
            border: 2px solid #ff6b6b;
            box-shadow: 0 0 50px rgba(255, 107, 107, 0.3);
            display: none;
            z-index: 100;
            min-width: 300px;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .game-over-title {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
        }

        .game-over-stats {
            margin-bottom: 30px;
            font-size: 1.2em;
            line-height: 1.8;
        }

        .game-over-stats span {
            color: #4ecdc4;
            font-weight: bold;
        }

        .restart-button {
            background: linear-gradient(45deg, #4ecdc4, #45b7d1);
            color: white;
            font-size: 1.2em;
            font-weight: bold;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
        }

        .restart-button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(78, 205, 196, 0.4);
        }

        .restart-button:active {
            transform: scale(0.98);
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 640px) {
            .game-title {
                font-size: 2em;
            }
            .game-subtitle {
                font-size: 1em;
            }
            .game-stats {
                flex-wrap: wrap;
                gap: 10px;
            }
            .stat-item {
                flex: 1 0 40%;
            }
            .controls-panel {
                padding: 10px 15px;
            }
            .control-group {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <!-- Navigation -->
    <nav class="bg-gray-800/90 backdrop-blur-md sticky top-0 z-50 border-b border-gray-700">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="landing-font text-2xl font-bold gradient-text">Block Breaker</div>
                <div class="hidden md:flex space-x-6">
                    <a href="#home" class="hover:text-cyan-400 transition-colors">Home</a>
                    <a href="#play" class="hover:text-cyan-400 transition-colors">Play Game</a>
                    <a href="#features" class="hover:text-cyan-400 transition-colors">Features</a>
                    <a href="#how-to-play" class="hover:text-cyan-400 transition-colors">How to Play</a>
                    <a href="#controls" class="hover:text-cyan-400 transition-colors">Controls</a>
                </div>
                <button class="md:hidden text-gray-300 hover:text-white" onclick="toggleMobileMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden md:hidden mt-4 space-y-2">
                <a href="#home" class="block py-2 hover:text-cyan-400 transition-colors">Home</a>
                <a href="#play" class="block py-2 hover:text-cyan-400 transition-colors">Play Game</a>
                <a href="#features" class="block py-2 hover:text-cyan-400 transition-colors">Features</a>
                <a href="#how-to-play" class="block py-2 hover:text-cyan-400 transition-colors">How to Play</a>
                <a href="#controls" class="block py-2 hover:text-cyan-400 transition-colors">Controls</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-purple-900/20 via-blue-900/20 to-cyan-900/20"></div>
        <div class="container mx-auto px-4 py-16 md:py-24 relative z-10">
            <div class="text-center max-w-4xl mx-auto">
                <h1 class="landing-font text-4xl md:text-6xl font-bold mb-6 gradient-text">Block Breaker Game</h1>
                <p class="text-xl md:text-2xl text-gray-300 mb-8">Master the art of destruction in this addictive brick-breaking adventure!</p>
                <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 md:p-8 border border-gray-700">
                    <p class="text-gray-300 leading-relaxed mb-6">
                        Block Breaker Game is a modern take on the classic arcade experience, featuring stunning visual effects, 
                        power-ups, achievements, and progressively challenging levels. Control your paddle, launch the ball, and 
                        destroy all blocks to advance through an endless galaxy of challenges. With combo multipliers, special blocks, 
                        and five unique power-ups, every game session offers a fresh and exciting experience.
                    </p>
                    <a href="#play" class="inline-block bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105">
                        Play Now - It's Free!
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-16 bg-gray-800/50">
        <div class="container mx-auto px-4">
            <h2 class="landing-font text-3xl md:text-4xl font-bold text-center mb-12 gradient-text">Game Features</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                <div class="feature-card bg-gray-800 rounded-xl p-6 border border-gray-700">
                    <div class="text-4xl mb-4">🎮</div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-400">Classic Arcade Gameplay</h3>
                    <p class="text-gray-300">Experience the timeless fun of brick breaking with modern twists and smooth controls.</p>
                </div>
                <div class="feature-card bg-gray-800 rounded-xl p-6 border border-gray-700">
                    <div class="text-4xl mb-4">⚡</div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-400">5 Unique Power-ups</h3>
                    <p class="text-gray-300">Collect Wide Paddle, Multi Ball, Slow Ball, Extra Life, and Pierce Ball power-ups.</p>
                </div>
                <div class="feature-card bg-gray-800 rounded-xl p-6 border border-gray-700">
                    <div class="text-4xl mb-4">🏆</div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-400">Achievement System</h3>
                    <p class="text-gray-300">Unlock achievements for combos, survival, power-up collection, and high scores.</p>
                </div>
                <div class="feature-card bg-gray-800 rounded-xl p-6 border border-gray-700">
                    <div class="text-4xl mb-4">🔥</div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-400">Combo Multipliers</h3>
                    <p class="text-gray-300">Chain your block destruction for massive combo bonuses and score multipliers.</p>
                </div>
                <div class="feature-card bg-gray-800 rounded-xl p-6 border border-gray-700">
                    <div class="text-4xl mb-4">🌟</div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-400">Visual Effects</h3>
                    <p class="text-gray-300">Enjoy particle explosions, ball trails, and stunning animated backgrounds.</p>
                </div>
                <div class="feature-card bg-gray-800 rounded-xl p-6 border border-gray-700">
                    <div class="text-4xl mb-4">📈</div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-400">Progressive Difficulty</h3>
                    <p class="text-gray-300">Face increasingly challenging levels with more blocks and faster ball speeds.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Game Section -->
    <section id="play" class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="landing-font text-3xl md:text-4xl font-bold text-center mb-8 gradient-text">Play Block Breaker Game</h2>
            <div id="gameSection" class="relative rounded-xl overflow-hidden">
                <!-- Starry background -->
                <div class="stars" id="stars"></div>

                <div class="game-container">
                    <!-- Game title -->
                    <h3 class="game-title">🚀 ULTIMATE BLOCK BREAKER 🚀</h3>
                    <p class="game-subtitle">Master the Art of Block Destruction - Conquer the Galaxy!</p>

                    <!-- Leaderboard -->
                    <div class="leaderboard" id="leaderboard">
                        <div class="leaderboard-title">🏆 High Scores</div>
                        <div class="leaderboard-item">
                            <span>1. Legend</span>
                            <span>999999</span>
                        </div>
                        <div class="leaderboard-item">
                            <span>2. Your Best</span>
                            <span id="bestScore">0</span>
                        </div>
                        <div class="leaderboard-item">
                            <span>3. Rookie</span>
                            <span>1250</span>
                        </div>
                    </div>

                    <!-- Achievement system -->
                    <div class="achievements" id="achievements">
                        <div class="achievement-title">🎖️ Achievements</div>
                        <div class="achievement-item" id="achievement-first-level">
                            <span>🎯 First Clear</span>
                            <span>-</span>
                        </div>
                        <div class="achievement-item" id="achievement-combo">
                            <span>🔥 Combo Master</span>
                            <span>-</span>
                        </div>
                        <div class="achievement-item" id="achievement-survivor">
                            <span>💪 Survivor</span>
                            <span>-</span>
                        </div>
                        <div class="achievement-item" id="achievement-powerup">
                            <span>⚡ Power Collector</span>
                            <span>-</span>
                        </div>
                        <div class="achievement-item" id="achievement-score">
                            <span>💎 Score Master</span>
                            <span>-</span>
                        </div>
                    </div>

                    <!-- Game stats -->
                    <div class="game-stats">
                        <div class="stat-item lives">
                            <div class="stat-label">Lives</div>
                            <div class="stat-value">❤️ <span id="lives">3</span></div>
                        </div>
                        <div class="stat-item score">
                            <div class="stat-label">Score</div>
                            <div class="stat-value">🏆 <span id="score">0</span></div>
                        </div>
                        <div class="stat-item level">
                            <div class="stat-label">Level</div>
                            <div class="stat-value">🎯 <span id="level">1</span></div>
                        </div>
                        <div class="stat-item combo">
                            <div class="stat-label">Combo</div>
                            <div class="stat-value">🔥 <span id="combo">0</span></div>
                        </div>
                    </div>

                    <!-- Game canvas area -->
                    <div class="game-board">
                        <canvas id="gameCanvas" width="520" height="400"></canvas>
                        <div class="combo-display" id="comboDisplay"></div>
                        <div class="next-level-banner" id="levelBanner">
                            🎉 Level Complete! Prepare for Next Challenge! 🎉
                        </div>
                        
                        <div class="pause-overlay" id="pauseOverlay">
                            <h4>⏸️ Game Paused</h4>
                            <p>Press SPACEBAR to continue</p>
                            <div style="margin-top: 20px; font-size: 0.9em; opacity: 0.7;">
                                <p>💡 Pro Tip: Hit the ball with different parts of your paddle to change angles!</p>
                            </div>
                        </div>

                        <div class="game-over-overlay" id="gameOverOverlay">
                            <div class="game-over-title game-font">Game Over!</div>
                            <div class="game-over-stats">
                                <p>Final Score: <span id="finalScore">0</span></p>
                                <p>Level Reached: <span id="finalLevel">1</span></p>
                                <p>Blocks Destroyed: <span id="finalBlocks">0</span></p>
                                <p>Max Combo: <span id="finalCombo">0</span></p>
                            </div>
                            <button class="restart-button game-font" onclick="restartGame()">Play Again</button>
                            <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.7;">Press SPACE to restart</p>
                        </div>
                    </div>

                    <!-- Power-up display -->
                    <div class="power-up-display" id="powerUpDisplay">
                        <div style="opacity: 0.6;">🎁 Power-up Status: Ready to Activate</div>
                    </div>

                    <!-- Controls panel -->
                    <div class="controls-panel">
                        <div class="control-group">
                            <span class="key">←</span>
                            <span class="key">→</span>
                            <span>Move Paddle</span>
                        </div>
                        <div class="control-group">
                            <span class="key">SPACE</span>
                            <span>Launch/Pause</span>
                        </div>
                        <div class="control-group">
                            <span class="key">CLICK</span>
                            <span>Launch Ball</span>
                        </div>
                    </div>

                    <!-- Game tips -->
                    <div class="game-tips">
                        💡 Destroy special blocks to unlock power-ups! Chain block destruction for combo bonuses!
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How to Play Section -->
    <section id="how-to-play" class="py-16 bg-gray-800/50">
        <div class="container mx-auto px-4">
            <h2 class="landing-font text-3xl md:text-4xl font-bold text-center mb-12 gradient-text">How to Play</h2>
            <div class="max-w-4xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                        <h3 class="text-xl font-bold mb-4 text-cyan-400">🎯 Objective</h3>
                        <p class="text-gray-300">Your mission is to destroy all blocks on the screen by bouncing a ball off your paddle. Clear all blocks to advance to the next level!</p>
                    </div>
                    <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                        <h3 class="text-xl font-bold mb-4 text-cyan-400">🎮 Gameplay</h3>
                        <p class="text-gray-300">Move your paddle left and right to keep the ball in play. Hit blocks to destroy them and earn points. Don't let the ball fall!</p>
                    </div>
                    <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                        <h3 class="text-xl font-bold mb-4 text-cyan-400">⚡ Power-ups</h3>
                        <p class="text-gray-300">Destroy special blocks to release power-ups. Catch them with your paddle to activate temporary abilities that help you clear levels faster.</p>
                    </div>
                    <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                        <h3 class="text-xl font-bold mb-4 text-cyan-400">🔥 Combos</h3>
                        <p class="text-gray-300">Hit multiple blocks in succession without the ball touching your paddle to build combos and earn bonus points!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Controls Section -->
    <section id="controls" class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="landing-font text-3xl md:text-4xl font-bold text-center mb-12 gradient-text">Game Controls</h2>
            <div class="max-w-3xl mx-auto">
                <div class="bg-gray-800 rounded-xl p-8 border border-gray-700">
                    <div class="space-y-6">
                        <div class="flex items-center space-x-4">
                            <div class="bg-gray-700 px-4 py-2 rounded font-mono text-cyan-400">← →</div>
                            <p class="text-gray-300">Arrow Keys - Move paddle left and right</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="bg-gray-700 px-4 py-2 rounded font-mono text-cyan-400">SPACE</div>
                            <p class="text-gray-300">Spacebar - Launch ball / Pause game</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="bg-gray-700 px-4 py-2 rounded font-mono text-cyan-400">CLICK</div>
                            <p class="text-gray-300">Mouse Click - Launch ball (alternative)</p>
                        </div>
                        <div class="mt-6 p-4 bg-gray-700/50 rounded-lg">
                            <p class="text-sm text-gray-400">
                                <strong>Pro Tip:</strong> Hit the ball with different parts of your paddle to control its direction. 
                                The edges create sharper angles!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SEO Content Section -->
    <section class="py-16 bg-gray-800/30">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto prose prose-invert">
                <h2 class="landing-font text-2xl md:text-3xl font-bold mb-6 text-cyan-400">About Block Breaker Game</h2>
                <p class="text-gray-300 mb-4">
                    Block Breaker Game brings the nostalgic arcade experience to your browser with modern graphics and engaging gameplay mechanics. 
                    This free online game requires no downloads or installations - simply load the page and start playing instantly. 
                    Whether you're on a desktop, laptop, tablet, or smartphone, our responsive design ensures a smooth gaming experience across all devices.
                </p>
                <p class="text-gray-300 mb-4">
                    The game features a sophisticated physics engine that provides realistic ball movement and paddle interaction. 
                    Each level introduces new challenges with different block patterns and increased ball speed, keeping the gameplay fresh and exciting. 
                    The achievement system tracks your progress and rewards skilled play, while the local leaderboard lets you compete against your own best scores.
                </p>
                <p class="text-gray-300">
                    Perfect for quick gaming sessions or extended play, Block Breaker Game offers endless entertainment with its procedurally increasing difficulty 
                    and variety of power-ups. Join thousands of players worldwide who have discovered the addictive fun of breaking blocks in this modern classic!
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800 py-8">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <p class="text-gray-400 mb-2">© 2024 Block Breaker Top. All rights reserved.</p>
                <p class="text-gray-500 text-sm">Play the best block breaker game online - Free, no download required!</p>
            </div>
        </div>
    </footer>

    <script>
        // Create starry background for game
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }
        createStars();

        // Game code
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Game state
        let gameState = 'waiting';
        let lives = 3;
        let score = 0;
        let level = 1;
        let combo = 0;
        let maxCombo = 0;
        let powerUpActive = null;
        let powerUpTimer = 0;
        let totalBricksDestroyed = 0;
        let powerUpsCollected = 0;

        // Local storage
        let bestScore = localStorage.getItem('blockBreakerBest') || 0;
        document.getElementById('bestScore').textContent = bestScore;

        // Achievement system
        const achievements = {
            firstLevel: false,
            combo: false,
            survivor: false,
            powerup: false,
            score: false
        };

        // Paddle
        const paddle = {
            height: 12,
            width: 80,
            x: (canvas.width - 80) / 2,
            speed: 7,
            color: '#4ecdc4'
        };

        // Ball
        const ball = {
            radius: 8,
            x: canvas.width / 2,
            y: canvas.height - 50,
            dx: 0,
            dy: 0,
            speed: 4,
            trail: []
        };

        // Input handling
        let rightPressed = false;
        let leftPressed = false;

        // Brick configuration
        let bricks = [];
        const brick = {
            rowCount: 4,
            columnCount: 9,
            width: 52,
            height: 20,
            padding: 4,
            offsetTop: 50,
            offsetLeft: 12
        };

        // Power-up system
        let powerUps = [];
        const powerUpTypes = [
            { type: 'bigPaddle', color: '#ffe66d', symbol: '⬅️➡️', name: 'Wide Paddle' },
            { type: 'multiball', color: '#ff6b6b', symbol: '⚫⚫', name: 'Multi Ball' },
            { type: 'slowBall', color: '#a8e6cf', symbol: '🐌', name: 'Slow Ball' },
            { type: 'extraLife', color: '#ff9ff3', symbol: '❤️', name: 'Extra Life' },
            { type: 'penetrate', color: '#feca57', symbol: '💥', name: 'Pierce Ball' }
        ];

        // Particle effects
        let particles = [];

        // Brick types
        const brickTypes = [
            { hits: 1, color: '#ff6b6b', points: 10 },
            { hits: 2, color: '#4ecdc4', points: 20 },
            { hits: 3, color: '#ffe66d', points: 30 },
            { hits: 1, color: '#a8e6cf', points: 50, special: 'powerup' }
        ];

        function showCombo(comboCount) {
            const comboDisplay = document.getElementById('comboDisplay');
            comboDisplay.textContent = `${comboCount}x COMBO!`;
            comboDisplay.classList.remove('combo-animation');
            comboDisplay.style.opacity = '1';
            
            setTimeout(() => {
                comboDisplay.classList.add('combo-animation');
            }, 10);
            
            setTimeout(() => {
                comboDisplay.style.opacity = '0';
            }, 1000);
        }

        function showLevelBanner() {
            const banner = document.getElementById('levelBanner');
            banner.style.display = 'block';
            setTimeout(() => {
                banner.style.display = 'none';
            }, 2000);
        }

        function checkAchievements() {
            // First clear
            if (level > 1 && !achievements.firstLevel) {
                achievements.firstLevel = true;
                document.getElementById('achievement-first-level').classList.add('achievement-completed');
                document.getElementById('achievement-first-level').querySelector('span:last-child').textContent = '✅';
            }
            
            // Combo master
            if (maxCombo >= 5 && !achievements.combo) {
                achievements.combo = true;
                document.getElementById('achievement-combo').classList.add('achievement-completed');
                document.getElementById('achievement-combo').querySelector('span:last-child').textContent = '✅';
            }
            
            // Survivor (no lives lost)
            if (level > 3 && lives === 3 && !achievements.survivor) {
                achievements.survivor = true;
                document.getElementById('achievement-survivor').classList.add('achievement-completed');
                document.getElementById('achievement-survivor').querySelector('span:last-child').textContent = '✅';
            }
            
            // Power collector
            if (powerUpsCollected >= 3 && !achievements.powerup) {
                achievements.powerup = true;
                document.getElementById('achievement-powerup').classList.add('achievement-completed');
                document.getElementById('achievement-powerup').querySelector('span:last-child').textContent = '✅';
            }
            
            // Score master
            if (score >= 5000 && !achievements.score) {
                achievements.score = true;
                document.getElementById('achievement-score').classList.add('achievement-completed');
                document.getElementById('achievement-score').querySelector('span:last-child').textContent = '✅';
            }
        }

        function createBricks() {
            bricks = [];
            const totalRows = Math.min(3 + Math.floor(level/2), 8);
            
            for (let c = 0; c < brick.columnCount; c++) {
                bricks[c] = [];
                for (let r = 0; r < totalRows; r++) {
                    let brickType = 0;
                    
                    if (level > 2 && Math.random() < 0.3) brickType = 1;
                    if (level > 4 && Math.random() < 0.2) brickType = 2;
                    if (Math.random() < 0.15) brickType = 3;
                    
                    bricks[c][r] = {
                        x: 0, y: 0,
                        hits: brickTypes[brickType].hits,
                        maxHits: brickTypes[brickType].hits,
                        color: brickTypes[brickType].color,
                        points: brickTypes[brickType].points,
                        special: brickTypes[brickType].special || null
                    };
                }
            }
        }

        function resetBall() {
            ball.x = canvas.width / 2;
            ball.y = canvas.height - 50;
            ball.dx = 0;
            ball.dy = 0;
            ball.trail = [];
            gameState = 'waiting';
            combo = 0;
            updateDisplay();
        }

        function launchBall() {
            if (gameState === 'waiting') {
                const angle = (Math.random() - 0.5) * Math.PI/4;
                ball.dx = Math.sin(angle) * ball.speed;
                ball.dy = -Math.cos(angle) * ball.speed;
                gameState = 'playing';
            }
        }

        // Event listeners
        document.addEventListener("keydown", (e) => {
            if (e.key === "Right" || e.key === "ArrowRight") rightPressed = true;
            else if (e.key === "Left" || e.key === "ArrowLeft") leftPressed = true;
            else if (e.key === " ") {
                e.preventDefault();
                if (gameState === 'gameover') {
                    restartGame();
                } else if (gameState === 'playing') {
                    gameState = 'paused';
                    document.getElementById('pauseOverlay').style.display = 'block';
                } else if (gameState === 'paused') {
                    gameState = 'playing';
                    document.getElementById('pauseOverlay').style.display = 'none';
                } else if (gameState === 'waiting') {
                    launchBall();
                }
            }
        });

        document.addEventListener("keyup", (e) => {
            if (e.key === "Right" || e.key === "ArrowRight") rightPressed = false;
            else if (e.key === "Left" || e.key === "ArrowLeft") leftPressed = false;
        });

        canvas.addEventListener("click", () => {
            if (gameState === 'waiting') {
                launchBall();
            }
        });

        function createPowerUp(x, y) {
            const type = powerUpTypes[Math.floor(Math.random() * powerUpTypes.length)];
            powerUps.push({
                x: x,
                y: y,
                width: 30,
                height: 15,
                dy: 2,
                type: type.type,
                color: type.color,
                symbol: type.symbol,
                name: type.name
            });
        }

        function activatePowerUp(type) {
            powerUpsCollected++;
            powerUpActive = type;
            powerUpTimer = 300;
            
            const displayElement = document.getElementById('powerUpDisplay');
            
            switch(type) {
                case 'bigPaddle':
                    paddle.width = 120;
                    displayElement.innerHTML = '<div class="power-up-active">🎯 Wide Paddle Active!</div>';
                    break;
                case 'slowBall':
                    ball.dx *= 0.6;
                    ball.dy *= 0.6;
                    displayElement.innerHTML = '<div class="power-up-active">🐌 Slow Ball Active!</div>';
                    break;
                case 'extraLife':
                    lives++;
                    displayElement.innerHTML = '<div class="power-up-active">❤️ Extra Life Gained!</div>';
                    powerUpTimer = 120;
                    break;
                case 'penetrate':
                    displayElement.innerHTML = '<div class="power-up-active">💥 Pierce Ball Active!</div>';
                    break;
            }
            
            checkAchievements();
        }

        function updatePowerUps() {
            if (powerUpTimer > 0) {
                powerUpTimer--;
                if (powerUpTimer === 0) {
                    if (powerUpActive === 'bigPaddle') {
                        paddle.width = 80;
                    } else if (powerUpActive === 'slowBall') {
                        ball.dx /= 0.6;
                        ball.dy /= 0.6;
                    }
                    powerUpActive = null;
                    document.getElementById('powerUpDisplay').innerHTML = '<div style="opacity: 0.6;">🎁 Power-up Status: Ready to Activate</div>';
                }
            }

            for (let i = powerUps.length - 1; i >= 0; i--) {
                const powerUp = powerUps[i];
                powerUp.y += powerUp.dy;

                if (powerUp.y + powerUp.height > canvas.height - paddle.height &&
                    powerUp.x + powerUp.width > paddle.x &&
                    powerUp.x < paddle.x + paddle.width) {
                    activatePowerUp(powerUp.type);
                    powerUps.splice(i, 1);
                    continue;
                }

                if (powerUp.y > canvas.height) {
                    powerUps.splice(i, 1);
                }
            }
        }

        function createParticle(x, y, color) {
            for (let i = 0; i < 12; i++) {
                particles.push({
                    x: x,
                    y: y,
                    dx: (Math.random() - 0.5) * 10,
                    dy: (Math.random() - 0.5) * 10,
                    life: 40,
                    maxLife: 40,
                    color: color,
                    size: Math.random() * 3 + 1
                });
            }
        }

        function updateParticles() {
            for (let i = particles.length - 1; i >= 0; i--) {
                const particle = particles[i];
                particle.x += particle.dx;
                particle.y += particle.dy;
                particle.life--;
                particle.dy += 0.3;

                if (particle.life <= 0) {
                    particles.splice(i, 1);
                }
            }
        }

        function collisionDetection() {
            for (let c = 0; c < brick.columnCount; c++) {
                for (let r = 0; r < bricks[c].length; r++) {
                    let b = bricks[c][r];
                    if (b.hits > 0) {
                        if (ball.x > b.x && ball.x < b.x + brick.width &&
                            ball.y > b.y && ball.y < b.y + brick.height) {
                            
                            if (powerUpActive !== 'penetrate') {
                                ball.dy = -ball.dy;
                            }
                            
                            b.hits--;
                            combo++;
                            if (combo > maxCombo) maxCombo = combo;
                            
                            let points = b.points + (combo * 5);
                            score += points;
                            
                            createParticle(b.x + brick.width/2, b.y + brick.height/2, b.color);
                            
                            if (combo >= 3) {
                                showCombo(combo);
                            }
                            
                            if (b.hits <= 0) {
                                totalBricksDestroyed++;
                                if (b.special === 'powerup') {
                                    createPowerUp(b.x + brick.width/2, b.y);
                                }
                            }
                            
                            if (isLevelCleared()) {
                                nextLevel();
                            }
                            
                            updateDisplay();
                            checkAchievements();
                            break;
                        }
                    }
                }
            }
        }

        function isLevelCleared() {
            for (let c = 0; c < brick.columnCount; c++) {
                for (let r = 0; r < bricks[c].length; r++) {
                    if (bricks[c][r].hits > 0) return false;
                }
            }
            return true;
        }

        function nextLevel() {
            level++;
            ball.speed = Math.min(ball.speed + 0.5, 8);
            createBricks();
            resetBall();
            score += level * 100; // Level bonus
            showLevelBanner();
            updateDisplay();
            checkAchievements();
        }

        function updateDisplay() {
            document.getElementById('lives').textContent = lives;
            document.getElementById('score').textContent = score;
            document.getElementById('level').textContent = level;
            document.getElementById('combo').textContent = combo;
            
            // Update best score
            if (score > bestScore) {
                bestScore = score;
                localStorage.setItem('blockBreakerBest', bestScore);
                document.getElementById('bestScore').textContent = bestScore;
            }
        }

        function drawBall() {
            // Draw trail
            ball.trail.push({x: ball.x, y: ball.y});
            if (ball.trail.length > 8) ball.trail.shift();
            
            for (let i = 0; i < ball.trail.length; i++) {
                const alpha = i / ball.trail.length;
                ctx.globalAlpha = alpha * 0.5;
                ctx.beginPath();
                ctx.arc(ball.trail[i].x, ball.trail[i].y, ball.radius * alpha, 0, Math.PI * 2);
                ctx.fillStyle = powerUpActive === 'penetrate' ? '#feca57' : '#4ecdc4';
                ctx.fill();
            }
            ctx.globalAlpha = 1;

            // Draw main ball
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
            const gradient = ctx.createRadialGradient(ball.x-2, ball.y-2, 0, ball.x, ball.y, ball.radius);
            gradient.addColorStop(0, powerUpActive === 'penetrate' ? '#feca57' : '#4ecdc4');
            gradient.addColorStop(1, powerUpActive === 'penetrate' ? '#ff9f43' : '#0984e3');
            ctx.fillStyle = gradient;
            ctx.fill();
            
            // Glow effect for pierce ball
            if (powerUpActive === 'penetrate') {
                ctx.shadowColor = '#feca57';
                ctx.shadowBlur = 20;
                ctx.beginPath();
                ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
                ctx.fill();
                ctx.shadowBlur = 0;
            }
        }

        function drawPaddle() {
            const gradient = ctx.createLinearGradient(paddle.x, canvas.height - paddle.height, paddle.x, canvas.height);
            gradient.addColorStop(0, powerUpActive === 'bigPaddle' ? '#ffe66d' : '#4ecdc4');
            gradient.addColorStop(1, powerUpActive === 'bigPaddle' ? '#feca57' : '#0984e3');
            
            ctx.beginPath();
            ctx.roundRect(paddle.x, canvas.height - paddle.height, paddle.width, paddle.height, 6);
            ctx.fillStyle = gradient;
            ctx.fill();
            
            // Add highlight
            ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.roundRect(paddle.x, canvas.height - paddle.height, paddle.width, 4, 6);
            ctx.fill();
        }

        function drawBricks() {
            for (let c = 0; c < brick.columnCount; c++) {
                for (let r = 0; r < bricks[c].length; r++) {
                    let b = bricks[c][r];
                    if (b.hits > 0) {
                        let brickX = c * (brick.width + brick.padding) + brick.offsetLeft;
                        let brickY = r * (brick.height + brick.padding) + brick.offsetTop;
                        b.x = brickX;
                        b.y = brickY;
                        
                        // Adjust opacity based on remaining hits
                        const alpha = b.hits / b.maxHits;
                        ctx.globalAlpha = 0.3 + alpha * 0.7;
                        
                        // Create gradient for brick
                        const gradient = ctx.createLinearGradient(brickX, brickY, brickX, brickY + brick.height);
                        gradient.addColorStop(0, b.color);
                        gradient.addColorStop(1, adjustColor(b.color, -30));
                        
                        ctx.beginPath();
                        ctx.roundRect(brickX, brickY, brick.width, brick.height, 4);
                        ctx.fillStyle = gradient;
                        ctx.fill();
                        
                        // Add border
                        ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                        ctx.lineWidth = 1;
                        ctx.stroke();
                        
                        // Show special brick symbol
                        if (b.special === 'powerup') {
                            ctx.globalAlpha = 1;
                            ctx.fillStyle = '#fff';
                            ctx.font = 'bold 12px Orbitron';
                            ctx.textAlign = 'center';
                            ctx.fillText('?', brickX + brick.width/2, brickY + brick.height/2 + 4);
                        }
                        
                        // Show hit count for multi-hit bricks
                        if (b.maxHits > 1) {
                            ctx.globalAlpha = 1;
                            ctx.fillStyle = '#fff';
                            ctx.font = 'bold 10px Orbitron';
                            ctx.textAlign = 'center';
                            ctx.fillText(b.hits.toString(), brickX + brick.width/2, brickY + brick.height/2 + 3);
                        }
                    }
                }
            }
            ctx.globalAlpha = 1;
            ctx.textAlign = 'left';
        }

        function adjustColor(color, amount) {
            // Simple color adjustment function
            const num = parseInt(color.replace("#", ""), 16);
            const amt = Math.round(2.55 * amount);
            const R = (num >> 16) + amt;
            const G = (num >> 8 & 0x00FF) + amt;
            const B = (num & 0x0000FF) + amt;
            return "#" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
                (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
                (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);
        }

        function drawPowerUps() {
            powerUps.forEach(powerUp => {
                const gradient = ctx.createLinearGradient(powerUp.x, powerUp.y, powerUp.x, powerUp.y + powerUp.height);
                gradient.addColorStop(0, powerUp.color);
                gradient.addColorStop(1, adjustColor(powerUp.color, -30));
                
                ctx.beginPath();
                ctx.roundRect(powerUp.x, powerUp.y, powerUp.width, powerUp.height, 4);
                ctx.fillStyle = gradient;
                ctx.fill();
                
                // Add glow effect
                ctx.shadowColor = powerUp.color;
                ctx.shadowBlur = 10;
                ctx.fill();
                ctx.shadowBlur = 0;
                
                ctx.fillStyle = '#fff';
                ctx.font = 'bold 10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(powerUp.symbol, powerUp.x + powerUp.width/2, powerUp.y + powerUp.height/2 + 3);
            });
            ctx.textAlign = 'left';
        }

        function drawParticles() {
            particles.forEach(particle => {
                const alpha = particle.life / particle.maxLife;
                ctx.globalAlpha = alpha;
                ctx.beginPath();
                ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                ctx.fillStyle = particle.color;
                ctx.fill();
            });
            ctx.globalAlpha = 1;
        }

        function drawWaitingMessage() {
            if (gameState === 'waiting') {
                ctx.save();
                ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.font = 'bold 18px Orbitron';
                ctx.textAlign = 'center';
                ctx.fillText('Click or Press SPACE to Launch!', canvas.width/2, canvas.height/2);
                
                // Animated arrow
                const time = Date.now() * 0.005;
                const arrowY = canvas.height/2 + 30 + Math.sin(time) * 5;
                ctx.font = '24px Arial';
                ctx.fillText('⬇️', canvas.width/2, arrowY);
                ctx.restore();
            }
        }

        function draw() {
            // Create animated background
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, 'rgba(15, 52, 96, 0.9)');
            gradient.addColorStop(0.5, 'rgba(22, 33, 62, 0.8)');
            gradient.addColorStop(1, 'rgba(15, 52, 96, 0.9)');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            drawBricks();
            drawBall();
            drawPaddle();
            drawPowerUps();
            drawParticles();
            drawWaitingMessage();
            
            if (gameState === 'playing') {
                collisionDetection();
                updatePowerUps();
                updateParticles();

                // Ball physics
                if (ball.x + ball.dx > canvas.width - ball.radius || ball.x + ball.dx < ball.radius) {
                    ball.dx = -ball.dx;
                }
                if (ball.y + ball.dy < ball.radius) {
                    ball.dy = -ball.dy;
                } else if (ball.y + ball.dy > canvas.height - ball.radius) {
                    if (ball.x > paddle.x && ball.x < paddle.x + paddle.width) {
                        // Change ball angle based on where it hits the paddle
                        const hitPos = (ball.x - paddle.x) / paddle.width;
                        const angle = (hitPos - 0.5) * Math.PI/3;
                        const speed = Math.sqrt(ball.dx*ball.dx + ball.dy*ball.dy);
                        ball.dx = Math.sin(angle) * speed;
                        ball.dy = -Math.abs(Math.cos(angle) * speed);
                        combo = 0; // Reset combo when ball hits paddle
                        updateDisplay();
                    } else {
                        lives--;
                        updateDisplay();
                        if (lives <= 0) {
                            gameOver();
                        } else {
                            resetBall();
                        }
                    }
                }

                ball.x += ball.dx;
                ball.y += ball.dy;
            }

            // Paddle movement (only when not game over)
            if (gameState !== 'gameover') {
                if (rightPressed && paddle.x < canvas.width - paddle.width) {
                    paddle.x += paddle.speed;
                } else if (leftPressed && paddle.x > 0) {
                    paddle.x -= paddle.speed;
                }
            }

            requestAnimationFrame(draw);
        }

        // Initialize game
        createBricks();
        updateDisplay();
        draw();

        // Game Over function
        function gameOver() {
            gameState = 'gameover';
            
            // Check if it's a new high score
            const isNewHighScore = score > bestScore;
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalLevel').textContent = level;
            document.getElementById('finalBlocks').textContent = totalBricksDestroyed;
            document.getElementById('finalCombo').textContent = maxCombo;
            
            // Update game over title if new high score
            const gameOverTitle = document.querySelector('.game-over-title');
            const gameOverOverlay = document.getElementById('gameOverOverlay');
            if (isNewHighScore) {
                gameOverTitle.innerHTML = '🎉 New High Score! 🎉';
                gameOverTitle.style.color = '#ffe66d';
                gameOverTitle.style.textShadow = '0 0 20px rgba(255, 230, 109, 0.5)';
                gameOverOverlay.style.borderColor = '#ffe66d';
                gameOverOverlay.style.boxShadow = '0 0 50px rgba(255, 230, 109, 0.3)';
            } else {
                gameOverTitle.innerHTML = 'Game Over!';
                gameOverTitle.style.color = '#ff6b6b';
                gameOverTitle.style.textShadow = '0 0 20px rgba(255, 107, 107, 0.5)';
                gameOverOverlay.style.borderColor = '#ff6b6b';
                gameOverOverlay.style.boxShadow = '0 0 50px rgba(255, 107, 107, 0.3)';
            }
            
            document.getElementById('gameOverOverlay').style.display = 'block';
        }

        // Restart Game function
        function restartGame() {
            // Reset all game variables
            gameState = 'waiting';
            lives = 3;
            score = 0;
            level = 1;
            combo = 0;
            maxCombo = 0;
            powerUpActive = null;
            powerUpTimer = 0;
            totalBricksDestroyed = 0;
            powerUpsCollected = 0;
            
            // Reset achievements
            for (let key in achievements) {
                achievements[key] = false;
            }
            
            // Reset achievement display
            document.querySelectorAll('.achievement-item').forEach(item => {
                item.classList.remove('achievement-completed');
                item.querySelector('span:last-child').textContent = '-';
            });
            
            // Reset game objects
            paddle.x = (canvas.width - paddle.width) / 2;
            paddle.width = 80;
            ball.speed = 4;
            powerUps = [];
            particles = [];
            
            // Reset display
            resetBall();
            createBricks();
            updateDisplay();
            
            // Hide game over overlay
            document.getElementById('gameOverOverlay').style.display = 'none';
            document.getElementById('powerUpDisplay').innerHTML = '<div style="opacity: 0.6;">🎁 Power-up Status: Ready to Activate</div>';
        }

        // Make restartGame available globally
        window.restartGame = restartGame;

        // Landing page scripts
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    // Close mobile menu if open
                    document.getElementById('mobileMenu').classList.add('hidden');
                }
            });
        });

        // Add animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe feature cards
        document.querySelectorAll('.feature-card').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    </script>
</body>
</html>
